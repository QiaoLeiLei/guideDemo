{"version":3,"sources":["file:///Users/qiao/Documents/CreatorDemo/GuideDemo/assets/scripts/GuideTest.ts"],"names":["_decorator","Component","Node","log","GuideLayer","ccclass","property","GuideTest","start","guide","guideLayer","getComponent","guideBtnByBtnIndex","guideIndex","index","btnList","showNextGuide","active","onbtnClick","event","customEventData","currentTarget","target","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;;AAC7BC,MAAAA,U,eAAAA,U;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2BAGjBO,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAAC,CAACJ,IAAD,CAAD,C,oCAJb,MACaK,SADb,SAC+BN,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,yCAMV,IANU;;AAAA,8CAOhB,CAPgB;AAAA;;AASrCO,QAAAA,KAAK,GAAI;AACL,eAAKC,KAAL,GAAa,KAAKC,UAAL,CAAgBC,YAAhB;AAAA;AAAA,uCAAb;AACA,eAAKC,kBAAL,CAAwB,KAAKC,UAA7B;AACH;;AAEDD,QAAAA,kBAAkB,CAACE,KAAD,EAAgB;AAC9B,cAAI,KAAKL,KAAL,IAAc,KAAKM,OAAL,CAAaD,KAAb,CAAlB,EAAuC;AACnC,iBAAKL,KAAL,CAAWO,aAAX,CAAyB,KAAKD,OAAL,CAAaD,KAAb,CAAzB,EAA8C,OAAMA,KAAM,OAA1D;AACH,WAFD,MAEO;AACH,iBAAKJ,UAAL,CAAgBO,MAAhB,GAAyB,KAAzB;AACH;AACJ;;AAEMC,QAAAA,UAAU,CAAEC,KAAF,EAAqBC,eAArB,EAA8C;AAC3D,cAAID,KAAK,CAACE,aAAN,IAAuBF,KAAK,CAACG,MAAjC,EAAyC;AACrCnB,YAAAA,GAAG,CAAE,WAAUgB,KAAK,CAACE,aAAN,CAAoBE,IAAK,IAAGJ,KAAK,CAACG,MAAN,CAAaC,IAAK,qBAAoBH,eAAgB,EAA9F,CAAH;AACH;;AACD,eAAKP,UAAL,IAAmB,CAAnB;AACA,eAAKD,kBAAL,CAAwB,KAAKC,UAA7B;AACH;;AA5BoC,O;;;;;iBAElB,I;;;;;;;iBAED,E","sourcesContent":["\nimport { _decorator, Component, Node, log, EventTouch } from 'cc';\nimport { GuideLayer } from './GuideLayer';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GuideTest')\nexport class GuideTest extends Component {\n    @property(Node)\n    guideLayer: Node = null!;\n    @property([Node])\n    btnList: Node[] = [];\n\n    guide: GuideLayer | null = null;\n    guideIndex: number = 0;\n\n    start () {\n        this.guide = this.guideLayer.getComponent(GuideLayer);\n        this.guideBtnByBtnIndex(this.guideIndex);\n    }\n\n    guideBtnByBtnIndex(index: number) {\n        if (this.guide && this.btnList[index]) {\n            this.guide.showNextGuide(this.btnList[index],`点击按钮${index}进行下一步`);\n        } else {\n            this.guideLayer.active = false;\n        }\n    }\n\n    public onbtnClick (event: EventTouch, customEventData: string) {\n        if (event.currentTarget && event.target) {\n            log(`event : ${event.currentTarget.name} ${event.target.name} customEventData: ${customEventData}`);\n        }\n        this.guideIndex += 1;\n        this.guideBtnByBtnIndex(this.guideIndex);\n    }\n\n}\n"]}