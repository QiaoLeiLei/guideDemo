{"version":3,"sources":["file:///Users/qiao/Documents/CreatorDemo/GuideDemo/assets/scripts/GuideTest.ts"],"names":["_decorator","Component","Node","log","GuideLayer","ccclass","property","GuideTest","start","guide","guideLayer","getComponent","guideBtnByBtnIndex","guideIndex","index","btnList","showNextGuide","active","onbtnClick","event","customEventData","currentTarget","target","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;;AAC7BC,MAAAA,U,eAAAA,U;;;;;;;AACDC,MAAAA,O,GAAsBL,U,CAAtBK,O;AAASC,MAAAA,Q,GAAaN,U,CAAbM,Q;;2BAGJC,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAAC,CAACJ,IAAD,CAAD,C;;;;;;;;;;;;;;;;kEAGkB,I;;uEACN,C;;;;;;;eAErBM,K,GAAA,iBAAS;AACL,eAAKC,KAAL,GAAa,KAAKC,UAAL,CAAgBC,YAAhB;AAAA;AAAA,uCAAb;AACA,eAAKC,kBAAL,CAAwB,KAAKC,UAA7B;AACH,S;;eAEDD,kB,GAAA,4BAAmBE,KAAnB,EAAkC;AAC9B,cAAI,KAAKL,KAAL,IAAc,KAAKM,OAAL,CAAaD,KAAb,CAAlB,EAAuC;AACnC,iBAAKL,KAAL,CAAWO,aAAX,CAAyB,KAAKD,OAAL,CAAaD,KAAb,CAAzB,+BAAoDA,KAApD;AACH,WAFD,MAEO;AACH,iBAAKJ,UAAL,CAAgBO,MAAhB,GAAyB,KAAzB;AACH;AACJ,S;;eAEMC,U,GAAP,oBAAmBC,KAAnB,EAAsCC,eAAtC,EAA+D;AAC3D,cAAID,KAAK,CAACE,aAAN,IAAuBF,KAAK,CAACG,MAAjC,EAAyC;AACrCnB,YAAAA,GAAG,cAAYgB,KAAK,CAACE,aAAN,CAAoBE,IAAhC,SAAwCJ,KAAK,CAACG,MAAN,CAAaC,IAArD,0BAA8EH,eAA9E,CAAH;AACH;;AACD,eAAKP,UAAL,IAAmB,CAAnB;AACA,eAAKD,kBAAL,CAAwB,KAAKC,UAA7B;AACH,S;;;QA5B0BZ,S;;;;;iBAER,I;;;;;;;iBAED,E","sourcesContent":["\nimport { _decorator, Component, Node, log, EventTouch } from 'cc';\nimport { GuideLayer } from './GuideLayer';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GuideTest')\nexport class GuideTest extends Component {\n    @property(Node)\n    guideLayer: Node = null!;\n    @property([Node])\n    btnList: Node[] = [];\n\n    guide: GuideLayer | null = null;\n    guideIndex: number = 0;\n\n    start () {\n        this.guide = this.guideLayer.getComponent(GuideLayer);\n        this.guideBtnByBtnIndex(this.guideIndex);\n    }\n\n    guideBtnByBtnIndex(index: number) {\n        if (this.guide && this.btnList[index]) {\n            this.guide.showNextGuide(this.btnList[index],`点击按钮${index}进行下一步`);\n        } else {\n            this.guideLayer.active = false;\n        }\n    }\n\n    public onbtnClick (event: EventTouch, customEventData: string) {\n        if (event.currentTarget && event.target) {\n            log(`event : ${event.currentTarget.name} ${event.target.name} customEventData: ${customEventData}`);\n        }\n        this.guideIndex += 1;\n        this.guideBtnByBtnIndex(this.guideIndex);\n    }\n\n}\n"]}